(()=>{var e={selector:"#popup",placeholder_selector:"#popup-placeholder",placeholder:'<div id="popup-placeholder"></div>',moveParent:function(i){var a=$(e.selector),l=a.clone(!0,!0),n=$(i);1==n.length&&(a.replaceWith($(e.placeholder)),l.prependTo(n))},returnParent:function(){$placeholder=$(e.placeholder_selector),1==$placeholder.length&&($parent=$(e.selector),$parent_clone=$parent.clone(!0,!0),$parent.remove(),$placeholder.replaceWith($parent_clone))}};function a(i){return!isNaN(i)&&(0|(e=parseFloat(i)))===e;var e}e.newWindow=function(i,a){null==a&&(a=!1);var l=' style="';if(0!=a&&null!=a.width&&(l+="min-width:"+a.width+";"),0!=a&&null!=a.height&&(l+="min-height:"+a.height+";"),0!=a&&null!=a.style&&(l+=a.style),0!=a&&null!=a.title)var n=a.title;else n="";if(0!=a&&null!=a.position)var t=a.position;else t="";l+='"';var o=$('<div class="popup '+t+'"'+l+'><div class="handle"><div><a class="drag"><i class="fa fa-ellipsis-v"></i></a> '+n+'</div><div><a class="closePop"><i class="fa fa-times"></i></a></div></div><div class="content">'+i+"</div></div>").appendTo("#popup");return e.clickBind(),$(window).keydown((function(i){27==i.which&&(o.remove(),$(this).off(i))})),o},e.loadingIcon="<div class='spinner'><i class='fa fa-cog'></i></div>",e.ajaxWindow=function(i,a){null==a&&(a=!1);var l=' style="';if(0!=a&&null!=a.width&&(l+="width:"+a.width+";"),0!=a&&null!=a.height&&(l+="height:"+a.height+";"),l+='"',0!=a&&null!=a.title)var n=a.title;else n="";if(0!=a&&null!=a.position)var t=a.position;else t="";var o=$('<div class="popup '+t+'"'+l+'><div class="handle"><div><a class="drag"><i class="fa fa-ellipsis-v"></i></a> '+n+'</div><div><a class="closePop"><i class="fa fa-times"></i></a></div></div><div class="content">'+e.loadingIcon+'</div><div class="shadow"></div></div>').appendTo("#popup");e.clickBind(),0!=a?a.action=i:a={action:i},$.post("/main/ajax.php?session="+globalSession,a).fail((function(i){$(o[0]+" .content").html("Request timed out.")})).success((function(i){$(o[0]).find(".content").html(i)}))},e.clickBind=function(){$(".closePop").off().click((function(){$(this).parent().parent().parent().remove()})),$(".control").off().click((function(){var i=this.dataset;e.ajaxWindow($(this).attr("data-action"),i)})),$(".popup").draggable({addClasses:!1,containment:e.selector,handle:".handle"}).resizable({minHeight:100,minWidth:100,autoHide:!0}),$(".popup .handle").mousedown((function(){$(this).addClass("dragging")})).mouseup((function(){$(this).removeClass("dragging")}))},$(document).ready((function(){e.clickBind();var l=$(".form-label");for(i in l)if(a(i)){var n=$(l[i]);$("#"+n.attr("data-for")).click((function(){n.hasClass("active")||n.addClass("active")})),$("#"+n.attr("data-for")).focusout((function(){""==this.value&&n.removeClass("active")}))}})),window.aPopup=e,window.isInt=a})();
//# sourceMappingURL=aPopup.min.js.map