{"version":3,"file":"aPopup.min.js","mappings":"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","sources":["webpack:///./js/aPopup.js"],"sourcesContent":["/*\r\nDate: 11/22/2019\r\nName: Steph Kennedy\r\nComment: This document powers the Almost Simple Popup system.\r\n*/\r\nvar aPopup = {\r\n\tselector: '#popup',\r\n\tplaceholder_selector: '#popup-placeholder',\r\n\tplaceholder: '<div id=\"popup-placeholder\"></div>',\r\n\tmoveParent: function(selector){\r\n\t\tvar $parent = $(aPopup.selector);\r\n\t\tvar $parent_clone = $parent.clone(true, true);\r\n\t\tvar $to = $(selector);\r\n\t\tif($to.length == 1){\r\n\t\t\t$parent.replaceWith($(aPopup.placeholder));\r\n\t\t\t$parent_clone.prependTo($to);\r\n\t\t}\r\n\t},\r\n\treturnParent: function(){\r\n\t\t$placeholder = $(aPopup.placeholder_selector);\r\n\t\tif($placeholder.length != 1){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$parent = $(aPopup.selector);\r\n\t\t$parent_clone = $parent.clone(true,true);\r\n\t\t$parent.remove();\r\n\t\t$placeholder.replaceWith($parent_clone);\r\n\t}\r\n};\r\naPopup.newWindow = function(content, options){\r\n\t\tif(options == undefined){\r\n\t\t\toptions = false;\r\n\t\t}\r\n\t\tvar style = ' style=\"';\r\n\t\tif(options != false && options.width != undefined){\r\n\t\t\tstyle += 'min-width:'+options.width+';';\r\n\t\t}\r\n\t\tif(options != false && options.height != undefined){\r\n\t\t\tstyle += 'min-height:'+options.height+';';\r\n\t\t}\r\n\t\tif(options != false && options.style != undefined){\r\n\t\t\tstyle += options.style;\r\n\t\t}\r\n\t\tif(options != false && options.title != undefined){\r\n\t\t\tvar title = options.title;\r\n\t\t}else{\r\n\t\t\tvar title = '';\r\n\t\t}\r\n\t\tif(options != false && options.position != undefined){\r\n\t\t\tvar cls = options.position;\r\n\t\t}else{\r\n\t\t\tvar cls = '';\r\n\t\t}\r\n\t\tstyle += '\"';\r\n\t\tvar object = $('<div class=\"popup '+cls+'\"'+style+'><div class=\"handle\"><div><a class=\"drag\"><i class=\"fa fa-ellipsis-v\"></i></a> '+title+'</div><div><a class=\"closePop\"><i class=\"fa fa-times\"></i></a></div></div><div class=\"content\">'+content+'</div></div>').appendTo('#popup');\r\n\t\taPopup.clickBind();\r\n\t\t$(window).keydown(function(e){\r\n\t\t\tif(e.which == 27){\r\n\t\t\t\tobject.remove();\r\n\t\t\t\t$(this).off(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn object;\r\n\t}\r\n\r\n\taPopup.loadingIcon = \"<div class='spinner'><i class='fa fa-cog'></i></div>\";\r\n\r\n\taPopup.ajaxWindow = function(action, data){\r\n\t\tif(data == undefined){\r\n\t\t\tdata = false;\r\n\t\t}\r\n\t\tvar style = ' style=\"';\r\n\t\tif(data != false && data.width != undefined){\r\n\t\t\tstyle += 'width:'+data.width+';';\r\n\t\t}\r\n\t\tif(data != false && data.height != undefined){\r\n\t\t\tstyle += 'height:'+data.height+';';\r\n\t\t}\r\n\t\tstyle += '\"';\r\n\t\tif(data != false && data.title != undefined){\r\n\t\t\tvar title = data.title;\r\n\t\t}else{\r\n\t\t\tvar title = '';\r\n\t\t}\r\n\t\tif(data != false && data.position != undefined){\r\n\t\t\tvar cls = data.position;\r\n\t\t}else{\r\n\t\t\tvar cls = '';\r\n\t\t}\r\n\t\tvar active = $('<div class=\"popup '+cls+'\"'+style+'><div class=\"handle\"><div><a class=\"drag\"><i class=\"fa fa-ellipsis-v\"></i></a> '+title+'</div><div><a class=\"closePop\"><i class=\"fa fa-times\"></i></a></div></div><div class=\"content\">'+aPopup.loadingIcon+'</div><div class=\"shadow\"></div></div>').appendTo('#popup');\r\n\t\taPopup.clickBind();\r\n\t\tif(data != false){\r\n\t\t\tdata.action = action;\r\n\t\t}else{\r\n\t\t\tdata = {action: action}\r\n\t\t}\r\n\t\t$.post(\"/main/ajax.php?session=\" + globalSession, data).fail(function(data){\r\n\t\t\tvar data = \"Request timed out.\";\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t$(active[0] + ' .content').html(data);\r\n\t\t}).success(function(data){\r\n\t\t\t$(active[0]).find('.content').html(data);\r\n\t\t});\r\n\t}\r\n\r\n\taPopup.clickBind = function(){\r\n\t\t//Rebind the close button\r\n\t\t$('.closePop').off().click(function(){\r\n\t\t\t$(this).parent().parent().parent().remove();\r\n\t\t});\r\n\t\t//Register our click event, remove any existing events to keep from binding the same event over and over.\r\n\t\t$('.control').off().click(function(){\r\n\t\t\tvar data = this.dataset;\r\n\t\t\taPopup.ajaxWindow($(this).attr('data-action'), data) ;\r\n\t\t});\r\n\t\t//Initialize our draggable.\r\n\t\t$( \".popup\" ).draggable({\r\n\t\t\taddClasses: false,\r\n\t\t\tcontainment: aPopup.selector,\r\n\t\t\thandle: \".handle\"\r\n\t\t}).resizable({\r\n\t\t\tminHeight: 100,\r\n\t\t\tminWidth: 100,\r\n\t\t\tautoHide: true\r\n\t\t});\r\n\t\t//This allows us to have the grab/grabbing cursor change when clicking on the handle.\r\n\t\t$('.popup .handle').mousedown(function(){\r\n\t\t\t$(this).addClass('dragging');\r\n\t\t}).mouseup(function(){\r\n\t\t\t$(this).removeClass('dragging');\r\n\t\t});\r\n\t}\r\n$(document).ready(function(){\r\n\taPopup.clickBind();\r\n\tvar labels = $('.form-label');\r\n\tfor(i in labels){\r\n\t\tif(isInt(i)){\r\n\t\t\tvar label = $(labels[i]);\r\n\t\t\t$('#' + label.attr('data-for')).click(function(){\r\n\t\t\t\tif(!label.hasClass('active')){\r\n\t\t\t\t\tlabel.addClass('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$('#' + label.attr('data-for')).focusout(function(){\r\n\t\t\t\tif(this.value == ''){\r\n\t\t\t\t\tlabel.removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\nfunction isInt(value) {return !isNaN(value) && (function(x) { return (x | 0) === x; })(parseFloat(value))}\r\n\r\nwindow.aPopup = aPopup;\r\nwindow.isInt = isInt;"],"names":["aPopup","selector","placeholder_selector","placeholder","moveParent","$parent","$","$parent_clone","clone","$to","length","replaceWith","prependTo","returnParent","$placeholder","remove","isInt","value","isNaN","x","parseFloat","newWindow","content","options","undefined","style","width","height","title","position","cls","object","appendTo","clickBind","window","keydown","e","which","this","off","loadingIcon","ajaxWindow","action","data","active","post","globalSession","fail","html","success","find","click","parent","dataset","attr","draggable","addClasses","containment","handle","resizable","minHeight","minWidth","autoHide","mousedown","addClass","mouseup","removeClass","document","ready","labels","i","label","hasClass","focusout"],"sourceRoot":""}